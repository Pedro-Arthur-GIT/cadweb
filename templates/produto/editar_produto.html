{% extends 'base.html' %}

{% block titulo %} Editar Produto {% endblock %}

{% block titulo_conteudo %} Editar Produto {% endblock %}

{% block conteudo %} 

<form method="post" >
    {% csrf_token %}
    <input type="hidden">
    <p>
        <label for="id_nome">Nome:</label>
        <input type="text" name="nome" class="form-control" placeholder="{{produto.nome}}" maxlength="100" required id="id_nome">
    </p>

    <p>
        <label for="id_preco">Preço:</label>
        <input type="text" name="preco" class="preco form-control" placeholder="{{produto.preco}}" required id="id_preco">
    </p>

    {% comment %} <p>
        <label for="id_categoria_nome">Categoria:</label>
        <!-- autocomplete -->
        <input type="text" class="form-control autocomplete" 
            id="id_categoria_nome" 
            data-url="{% url 'buscar_dados' 'home.Categoria' %}" 
            data-hidden="#id_categoria" >
        <input type="hidden" id="id_categoria">
    </p> {% endcomment %}
    

    <p>
        <label for="id_categoria_nome">Categoria:</label>
        <!-- autocomplete -->
        <input type="text" class="form-control autocomplete" 
            id="id_categoria_nome" 
            data-url="{% url 'buscar_dados' 'home.Categoria' %}" 
            data-hidden="#id_categoria" >
        <input type="hidden" id="id_categoria">
    </p>

    <fieldset class="fieldset">
        <label for="imagem">Imagem:</label>
        <input type="hidden" 
            id="img_base64"  
            class="img_init" 
            data-canvas="imageCanvas" 
            value="{{form.instance.img_base64}}" 
            name="img_base64">

        <input type="file" id="imagem" 
            name="imagem" 
            data-hidden="img_base64" 
            class="img_upload form-control" 
            accept="image/*"><br>

        <canvas class="canvas" id="imageCanvas" width="200" height="200"></canvas><br>

    </fieldset>

    

    <!-- Renderiza cada campo do formulário com <p> tags -->
    <button onclick="location.href= '{% url 'produto' %}'" class= "btn btn-secondary btn-sm">Cancelar</button>
    <button class="btn btn-primary btn-sm" type="submit">Enviar</button>
</form>

{% endblock %}